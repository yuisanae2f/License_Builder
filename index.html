<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>License Template Beta Test</title>
</head>
<body>
    <div id="istream">
        <fieldset>
            <legend><h1>Parameter</h1></legend>

            <label for="options">Choose the license template</label>
            <select id="options" name="options" onchange="OnChangeGlobal()">
                <option value="Apache License 2.0">Apache License 2.0</option>
                <option value="None">None</option>
            </select><br><br>

            <p>Year</p>
            <input type="text" id="Year">
            <p>Owner Name</p>   
            <input type="text" id="Owner">   
            <p>Object(Your work)</p>
            <input type="text" id="Object">
        </fieldset>
    </div>

    <fieldset>
        <legend><h1>Summary</h1></legend>
        <h2>Permission</h2>
        <div id="summary_permission"></div>
        <h2>Limit</h2>
        <div id="summary_limit"></div>
        <h2>Condition</h2>
        <div id="summary_cond"></div>
    </fieldset>

    <fieldset>
        <legend><h1>Content</h1></legend>
        <pre id="license"></pre>
    </fieldset>


    <fieldset>
        <legend><h1>URL</h1></legend>
        <div id="_url"></div>
    </fieldset>
</body>
<script type="module">
    import { Main } from "./Main.js"
    // 현재 URL 가져오기
    const currentUrl = window.location.href;
    const url = new URL(currentUrl);
    const params = new URLSearchParams(url.search);

    const prm_year = params.get('prm_year');
    const prm_owner = params.get('prm_owner');
    const prm_obj = params.get('prm_obj');
    const prm_template = params.get("prm_template");
    const prm_hideIStream = params.get("prm_hideIStream");

    if(prm_hideIStream) {
        const istream = document.getElementById("istream");
        istream.innerHTML = "";
    }
    
    Main(prm_template, prm_year, prm_owner, prm_obj);
</script>
</html>
